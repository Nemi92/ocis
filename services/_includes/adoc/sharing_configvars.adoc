[caption=]
.Environment variables for the sharing extension
[width="100%",cols="~,~,~,~",options="header"]
|===
| Name
| Type
| Default Value
| Description

|`OCIS_TRACING_ENABLED` +
`SHARING_TRACING_ENABLED`
| bool
a| [subs=-attributes]
false 
a| [subs=-attributes]
Activates tracing.

|`OCIS_TRACING_TYPE` +
`SHARING_TRACING_TYPE`
| string
a| [subs=-attributes]
 
a| [subs=-attributes]
The type of tracing. Defaults to "", which is the same as "jaeger". Allowed tracing types are "jaeger" and "" as of now.

|`OCIS_TRACING_ENDPOINT` +
`SHARING_TRACING_ENDPOINT`
| string
a| [subs=-attributes]
 
a| [subs=-attributes]
The endpoint of the tracing agent.

|`OCIS_TRACING_COLLECTOR` +
`SHARING_TRACING_COLLECTOR`
| string
a| [subs=-attributes]
 
a| [subs=-attributes]
The HTTP endpoint for sending spans directly to a collector, i.e. \http://jaeger-collector:14268/api/traces. Only used if the tracing endpoint is unset.

|`OCIS_LOG_LEVEL` +
`SHARING_LOG_LEVEL`
| string
a| [subs=-attributes]
 
a| [subs=-attributes]
The log level. Valid values are: "panic", "fatal", "error", "warn", "info", "debug", "trace".

|`OCIS_LOG_PRETTY` +
`SHARING_LOG_PRETTY`
| bool
a| [subs=-attributes]
false 
a| [subs=-attributes]
Activates pretty log output.

|`OCIS_LOG_COLOR` +
`SHARING_LOG_COLOR`
| bool
a| [subs=-attributes]
false 
a| [subs=-attributes]
Activates colorized log output.

|`OCIS_LOG_FILE` +
`SHARING_LOG_FILE`
| string
a| [subs=-attributes]
 
a| [subs=-attributes]
The path to the log file. Activates logging to this file if set.

|`SHARING_DEBUG_ADDR`
| string
a| [subs=-attributes]
127.0.0.1:9151 
a| [subs=-attributes]
Bind address of the debug server, where metrics, health, config and debug endpoints will be exposed.

|`SHARING_DEBUG_TOKEN`
| string
a| [subs=-attributes]
 
a| [subs=-attributes]
Token to secure the metrics endpoint

|`SHARING_DEBUG_PPROF`
| bool
a| [subs=-attributes]
false 
a| [subs=-attributes]
Enables pprof, which can be used for profiling

|`SHARING_DEBUG_ZPAGES`
| bool
a| [subs=-attributes]
false 
a| [subs=-attributes]
Enables zpages, which can be used for collecting and viewing in-memory traces.

|`SHARING_GRPC_ADDR`
| string
a| [subs=-attributes]
127.0.0.1:9150 
a| [subs=-attributes]
The bind address of the GRPC service.

|`SHARING_GRPC_PROTOCOL`
| string
a| [subs=-attributes]
tcp 
a| [subs=-attributes]
The transport protocol of the grpc service.

|`OCIS_JWT_SECRET` +
`SHARING_JWT_SECRET`
| string
a| [subs=-attributes]
 
a| [subs=-attributes]
The secret to mint and validate jwt tokens.

|`REVA_GATEWAY`
| string
a| [subs=-attributes]
127.0.0.1:9142 
a| [subs=-attributes]
The CS3 gateway endpoint.

|`SHARING_EVENTS_ENDPOINT`
| string
a| [subs=-attributes]
127.0.0.1:9233 
a| [subs=-attributes]
the address of the streaming service

|`SHARING_EVENTS_CLUSTER`
| string
a| [subs=-attributes]
ocis-cluster 
a| [subs=-attributes]
the clusterID of the streaming service. Mandatory when using nats

|`SHARING_SKIP_USER_GROUPS_IN_TOKEN`
| bool
a| [subs=-attributes]
false 
a| [subs=-attributes]
Disables the loading of user's group memberships from the reva access token.

|`SHARING_USER_DRIVER`
| string
a| [subs=-attributes]
cs3 
a| [subs=-attributes]
Driver to be used to persist shares. Possible values: "json", "cs3", "owncloudsql"

|`SHARING_USER_JSON_FILE`
| string
a| [subs=-attributes]
~/.ocis/storage/shares.json 
a| [subs=-attributes]
Path to the json file where shares will be persisted.

|`SHARING_USER_CS3_PROVIDER_ADDR`
| string
a| [subs=-attributes]
127.0.0.1:9215 
a| [subs=-attributes]
GRPC address of the storage-system extension.

|`OCIS_SYSTEM_USER_ID` +
`SHARING_USER_CS3_SYSTEM_USER_ID`
| string
a| [subs=-attributes]
 
a| [subs=-attributes]
ID of the oCIS storage-system system user. Admins need to set the ID for the storage-system system user in this config option which is then used to reference the user. Any reasonable long string is possible, preferably this would be an UUIDv4 format.

|`OCIS_SYSTEM_USER_IDP` +
`SHARING_USER_CS3_SYSTEM_USER_IDP`
| string
a| [subs=-attributes]
internal 
a| [subs=-attributes]
IDP of the oCIS storage-system system user.

|`OCIS_SYSTEM_USER_API_KEY` +
`SHARING_USER_CS3_SYSTEM_USER_API_KEY`
| string
a| [subs=-attributes]
 
a| [subs=-attributes]
API key for the storage-system system user.

|`SHARING_USER_OWNCLOUDSQL_DB_USERNAME`
| string
a| [subs=-attributes]
owncloud 
a| [subs=-attributes]
Username for the database.

|`SHARING_USER_OWNCLOUDSQL_DB_PASSWORD`
| string
a| [subs=-attributes]
 
a| [subs=-attributes]
Password for the database.

|`SHARING_USER_OWNCLOUDSQL_DB_HOST`
| string
a| [subs=-attributes]
mysql 
a| [subs=-attributes]
Hostname or IP of the database server.

|`SHARING_USER_OWNCLOUDSQL_DB_PORT`
| int
a| [subs=-attributes]
3306 
a| [subs=-attributes]
Port that the database server is listening on.

|`SHARING_USER_OWNCLOUDSQL_DB_NAME`
| string
a| [subs=-attributes]
owncloud 
a| [subs=-attributes]
Name of the database to be used.

|`SHARING_USER_OWNCLOUDSQL_USER_STORAGE_MOUNT_ID`
| string
a| [subs=-attributes]
 
a| [subs=-attributes]
Mount ID of the ownCloudSQL users storage for mapping ownCloud 10 shares.

|`SHARING_PUBLIC_DRIVER`
| string
a| [subs=-attributes]
cs3 
a| [subs=-attributes]
Driver to be used to persist public shares. Possible values: "json", "cs3"

|`SHARING_PUBLIC_JSON_FILE`
| string
a| [subs=-attributes]
~/.ocis/storage/publicshares.json 
a| [subs=-attributes]
Path to the JSON file where public share meta-data will be stored. This JSON file contains the information about public shares that have been created.

|`SHARING_PUBLIC_CS3_PROVIDER_ADDR`
| string
a| [subs=-attributes]
127.0.0.1:9215 
a| [subs=-attributes]
GRPC address of the storage-system extension.

|`OCIS_SYSTEM_USER_ID` +
`SHARING_PUBLIC_CS3_SYSTEM_USER_ID`
| string
a| [subs=-attributes]
 
a| [subs=-attributes]
ID of the oCIS storage-system system user. Admins need to set the ID for the storage-system system user in this config option which is then used to reference the user. Any reasonable long string is possible, preferably this would be an UUIDv4 format.

|`OCIS_SYSTEM_USER_IDP` +
`SHARING_PUBLIC_CS3_SYSTEM_USER_IDP`
| string
a| [subs=-attributes]
internal 
a| [subs=-attributes]
IDP of the oCIS storage-system system user.

|`OCIS_SYSTEM_USER_API_KEY` +
`SHARING_USER_CS3_SYSTEM_USER_API_KEY`
| string
a| [subs=-attributes]
 
a| [subs=-attributes]
API key for the storage-system system user.
|===

Since Version: `+` added, `-` deprecated
