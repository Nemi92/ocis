[caption=]
.Environment variables for the graph service
[width="100%",cols="~,~,~,~",options="header"]
|===
| Name
| Type
| Default Value
| Description
|`OCIS_TRACING_ENABLED` +
`GRAPH_TRACING_ENABLED`
a| [subs=-attributes]
++bool ++
a| [subs=-attributes]
++false ++
a| [subs=-attributes]
Activates tracing.
|`OCIS_TRACING_TYPE` +
`GRAPH_TRACING_TYPE`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ ++
a| [subs=-attributes]
The type of tracing. Defaults to "", which is the same as "jaeger". Allowed tracing types are "jaeger" and "" as of now.
|`OCIS_TRACING_ENDPOINT` +
`GRAPH_TRACING_ENDPOINT`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ ++
a| [subs=-attributes]
The endpoint of the tracing agent.
|`OCIS_TRACING_COLLECTOR` +
`GRAPH_TRACING_COLLECTOR`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ ++
a| [subs=-attributes]
The HTTP endpoint for sending spans directly to a collector, i.e. \http://jaeger-collector:14268/api/traces. Only used if the tracing endpoint is unset.
|`OCIS_LOG_LEVEL` +
`GRAPH_LOG_LEVEL`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ ++
a| [subs=-attributes]
The log level. Valid values are: "panic", "fatal", "error", "warn", "info", "debug", "trace".
|`OCIS_LOG_PRETTY` +
`GRAPH_LOG_PRETTY`
a| [subs=-attributes]
++bool ++
a| [subs=-attributes]
++false ++
a| [subs=-attributes]
Activates pretty log output.
|`OCIS_LOG_COLOR` +
`GRAPH_LOG_COLOR`
a| [subs=-attributes]
++bool ++
a| [subs=-attributes]
++false ++
a| [subs=-attributes]
Activates colorized log output.
|`OCIS_LOG_FILE` +
`GRAPH_LOG_FILE`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ ++
a| [subs=-attributes]
The path to the log file. Activates logging to this file if set.
|`OCIS_CACHE_STORE_TYPE` +
`GRAPH_CACHE_STORE_TYPE`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ ++
a| [subs=-attributes]
The type of the cache store. Valid options are "noop", "ocmem", "etcd" and "memory"
|`OCIS_CACHE_STORE_ADDRESS` +
`GRAPH_CACHE_STORE_ADDRESS`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ ++
a| [subs=-attributes]
A comma-separated list of addresses to connect to. Only valid if the above setting is set to "etcd"
|`OCIS_CACHE_STORE_SIZE` +
`GRAPH_CACHE_STORE_SIZE`
a| [subs=-attributes]
++int ++
a| [subs=-attributes]
++0 ++
a| [subs=-attributes]
Maximum number of items per table in the ocmem cache store. Other cache stores will ignore the option and can grow indefinitely.
|`GRAPH_DEBUG_ADDR`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++127.0.0.1:9124 ++
a| [subs=-attributes]
Bind address of the debug server, where metrics, health, config and debug endpoints will be exposed.
|`GRAPH_DEBUG_TOKEN`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ ++
a| [subs=-attributes]
Token to secure the metrics endpoint.
|`GRAPH_DEBUG_PPROF`
a| [subs=-attributes]
++bool ++
a| [subs=-attributes]
++false ++
a| [subs=-attributes]
Enables pprof, which can be used for profiling.
|`GRAPH_DEBUG_ZPAGES`
a| [subs=-attributes]
++bool ++
a| [subs=-attributes]
++false ++
a| [subs=-attributes]
Enables zpages, which can be used for collecting and viewing in-memory traces.
|`GRAPH_HTTP_ADDR`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++127.0.0.1:9120 ++
a| [subs=-attributes]
The bind address of the HTTP service.
|`GRAPH_HTTP_ROOT`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++/graph ++
a| [subs=-attributes]
Subdirectory that serves as the root for this HTTP service.
|`REVA_GATEWAY`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++127.0.0.1:9142 ++
a| [subs=-attributes]
The CS3 gateway endpoint.
|`OCIS_GRPC_CLIENT_TLS_MODE`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ ++
a| [subs=-attributes]
TLS mode for grpc connection to the go-micro based grpc services. Possible values are 'off', 'insecure' and 'on'. 'off': disables transport security for the clients. 'insecure' allows to use transport security, but disables certificate verification (to be used with the autogenerated self-signed certificates). 'on' enables transport security, including server ceritificate verification.
|`OCIS_JWT_SECRET` +
`GRAPH_JWT_SECRET`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ ++
a| [subs=-attributes]
The secret to mint and validate jwt tokens.
|`OCIS_GRPC_CLIENT_TLS_MODE`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ ++
a| [subs=-attributes]
TLS mode for grpc connection to the go-micro based grpc services. Possible values are 'off', 'insecure' and 'on'. 'off': disables transport security for the clients. 'insecure' allows to use transport security, but disables certificate verification (to be used with the autogenerated self-signed certificates). 'on' enables transport security, including server ceritificate verification.
|`OCIS_URL` +
`GRAPH_SPACES_WEBDAV_BASE`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++https://localhost:9200 ++
a| [subs=-attributes]
The public facing URL of WebDAV.
|`GRAPH_SPACES_WEBDAV_PATH`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++/dav/spaces/ ++
a| [subs=-attributes]
The WebDAV subpath for spaces.
|`GRAPH_SPACES_DEFAULT_QUOTA`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++1000000000 ++
a| [subs=-attributes]
The default quota in bytes.
|`GRAPH_SPACES_EXTENDED_SPACE_PROPERTIES_CACHE_TTL`
a| [subs=-attributes]
++int ++
a| [subs=-attributes]
++0 ++
a| [subs=-attributes]
Max TTL in seconds for the spaces property cache.
|`GRAPH_IDENTITY_BACKEND`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ldap ++
a| [subs=-attributes]
The user identity backend to use. Supported backend types are 'ldap' and 'cs3'.
|`LDAP_URI` +
`GRAPH_LDAP_URI`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ldaps://localhost:9235 ++
a| [subs=-attributes]
URI of the LDAP Server to connect to. Supported URI schemes are 'ldaps://' and 'ldap://'
|`LDAP_CACERT` +
`GRAPH_LDAP_CACERT`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++~/.ocis/idm/ldap.crt ++
a| [subs=-attributes]
The certificate to verify TLS connections.
|`LDAP_INSECURE` +
`GRAPH_LDAP_INSECURE`
a| [subs=-attributes]
++bool ++
a| [subs=-attributes]
++false ++
a| [subs=-attributes]
Disable TLS certificate validation for the LDAP connections. Do not set this in production environments.
|`LDAP_BIND_DN` +
`GRAPH_LDAP_BIND_DN`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++uid=libregraph,ou=sysusers,o=libregraph-idm ++
a| [subs=-attributes]
LDAP DN to use for simple bind authentication with the target LDAP server.
|`LDAP_BIND_PASSWORD` +
`GRAPH_LDAP_BIND_PASSWORD`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ ++
a| [subs=-attributes]
Password to use for authenticating the 'bind_dn'.
|`GRAPH_LDAP_SERVER_UUID`
a| [subs=-attributes]
++bool ++
a| [subs=-attributes]
++false ++
a| [subs=-attributes]
If set to true, rely on the LDAP Server to generate a unique ID for users and groups, like when using 'entryUUID' as the user ID attribute.
|`GRAPH_LDAP_SERVER_USE_PASSWORD_MODIFY_EXOP`
a| [subs=-attributes]
++bool ++
a| [subs=-attributes]
++true ++
a| [subs=-attributes]
User the Password Modify Extended Operation for updating user passwords.
|`GRAPH_LDAP_SERVER_WRITE_ENABLED`
a| [subs=-attributes]
++bool ++
a| [subs=-attributes]
++true ++
a| [subs=-attributes]
Allow to create, modify and delete LDAP users via GRAPH API. This is only works when the default Schema is used.
|`LDAP_USER_BASE_DN` +
`GRAPH_LDAP_USER_BASE_DN`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ou=users,o=libregraph-idm ++
a| [subs=-attributes]
Search base DN for looking up LDAP users.
|`LDAP_USER_SCOPE` +
`GRAPH_LDAP_USER_SCOPE`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++sub ++
a| [subs=-attributes]
LDAP search scope to use when looking up users. Supported scopes are 'base', 'one' and 'sub'.
|`LDAP_USER_FILTER` +
`GRAPH_LDAP_USER_FILTER`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ ++
a| [subs=-attributes]
LDAP filter to add to the default filters for user search like '(objectclass=ownCloud)'.
|`LDAP_USER_OBJECTCLASS` +
`GRAPH_LDAP_USER_OBJECTCLASS`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++inetOrgPerson ++
a| [subs=-attributes]
The object class to use for users in the default user search filter ('inetOrgPerson').
|`LDAP_USER_SCHEMA_MAIL` +
`GRAPH_LDAP_USER_EMAIL_ATTRIBUTE`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++mail ++
a| [subs=-attributes]
LDAP Attribute to use for the email address of users.
|`LDAP_USER_SCHEMA_DISPLAY_NAME` +
`GRAPH_LDAP_USER_DISPLAYNAME_ATTRIBUTE`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++displayName ++
a| [subs=-attributes]
LDAP Attribute to use for the displayname of users.
|`LDAP_USER_SCHEMA_USERNAME` +
`GRAPH_LDAP_USER_NAME_ATTRIBUTE`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++uid ++
a| [subs=-attributes]
LDAP Attribute to use for username of users.
|`LDAP_USER_SCHEMA_ID` +
`GRAPH_LDAP_USER_UID_ATTRIBUTE`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++owncloudUUID ++
a| [subs=-attributes]
LDAP Attribute to use as the unique ID for users. This should be a stable globally unique ID like a UUID.
|`LDAP_GROUP_BASE_DN` +
`GRAPH_LDAP_GROUP_BASE_DN`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ou=groups,o=libregraph-idm ++
a| [subs=-attributes]
Search base DN for looking up LDAP groups.
|`LDAP_GROUP_SCOPE` +
`GRAPH_LDAP_GROUP_SEARCH_SCOPE`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++sub ++
a| [subs=-attributes]
LDAP search scope to use when looking up groups. Supported scopes are 'base', 'one' and 'sub'.
|`LDAP_GROUP_FILTER` +
`GRAPH_LDAP_GROUP_FILTER`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ ++
a| [subs=-attributes]
LDAP filter to add to the default filters for group searches.
|`LDAP_GROUP_OBJECTCLASS` +
`GRAPH_LDAP_GROUP_OBJECTCLASS`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++groupOfNames ++
a| [subs=-attributes]
The object class to use for groups in the default group search filter ('groupOfNames'). 
|`LDAP_GROUP_SCHEMA_GROUPNAME` +
`GRAPH_LDAP_GROUP_NAME_ATTRIBUTE`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++cn ++
a| [subs=-attributes]
LDAP Attribute to use for the name of groups.
|`LDAP_GROUP_SCHEMA_ID` +
`GRAPH_LDAP_GROUP_ID_ATTRIBUTE`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++owncloudUUID ++
a| [subs=-attributes]
LDAP Attribute to use as the unique id for groups. This should be a stable globally unique ID like a UUID.
|`GRAPH_EVENTS_ENDPOINT`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++127.0.0.1:9233 ++
a| [subs=-attributes]
The address of the event system. The event system is the message queuing service. It is used as message broker for the microservice architecture. Set to a empty string to disable emitting events.
|`GRAPH_EVENTS_CLUSTER`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ocis-cluster ++
a| [subs=-attributes]
The clusterID of the event system. The event system is the message queuing service. It is used as message broker for the microservice architecture.
|`OCIS_INSECURE` +
`GRAPH_EVENTS_TLS_INSECURE`
a| [subs=-attributes]
++bool ++
a| [subs=-attributes]
++false ++
a| [subs=-attributes]
Whether to verify the server TLS certificates.
|`GRAPH_EVENTS_TLS_ROOT_CA_CERTIFICATE`
a| [subs=-attributes]
++string ++
a| [subs=-attributes]
++ ++
a| [subs=-attributes]
The root CA certificate used to validate the server's TLS certificate. If provided GRAPH_EVENTS_TLS_INSECURE will be seen as false.
|`OCIS_EVENTS_ENABLE_TLS` +
`GRAPH_EVENTS_ENABLE_TLS`
a| [subs=-attributes]
++bool ++
a| [subs=-attributes]
++false ++
a| [subs=-attributes]
Enable TLS for the connection to the events broker. The events broker is the ocis service which receives and delivers events between the services..
|===

Since Version: `+` added, `-` deprecated
